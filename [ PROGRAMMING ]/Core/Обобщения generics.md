---
tags:
  - Core
aliases:
  - дженерики
---
Обобщения(*generics*) - это возможность языка Java использовать обобщения типов данных.
- Безопасность типов
  Когда ошибку типа переменной можно отследить на этапе компиляции
- Повторное использование кода
  Один раз написав программу можно сделать так, чтобы она работала с разными типа или только с определёнными классами.

## Параметры и Аргументы в дженериках
**Параметр** - тип данных, которыми оперируют классы и интерфейсы указанные в дженериках. *Пример:* `Box <T>` - T это параметр типа.

**Аргумент** - тип объекта, который может использоваться вместо параметра типа. *Пример:* `Box < Paper >` - Paper это аргумент типа.

## Ограничения в дженериках
1. Параметризация возможна только ссылочным типам данных
	String, Long, Integer - возможно; int, char - не возможно
2. Внутри параметризированных классов или методов нельзя создать экземпляр или массив `<T>`, а так же не работает `instanceof`.
   *Пример:*
```java
   class Box<T> {
    private T value;

    public Box(T value) {
        this.value = value;
    }

    // ...
}

public class Example {
    public static void main(String[] args) {
        // НЕВОЗМОЖНО: T не является конкретным типом
        Box<T> box = new Box<T>(new T()); // Ошибка компиляции
    }
}
```
3. Поля с *параметром типа* не могут быть `static`.

## Принцип PECS
**PECS - Producer Extends, Consumer Super.

Коллекции с *wildcards* и ключевым словом `extends` - это producers, производители, генераторы, они лишь предоставляют данные.

Коллекции с *wildcards* и ключевым словом `super` - это consumers, потребители, они принимают данные, но не отдают их.

Представим, что у нас есть иерархия классов, начинающаяся с `Class0`, который является предком для `Class1`, который в свою очередь является предком `Class2`, и т.д.
Если нужно в методе получить данные из листа, то правильным будет такой код:
```java
public static void someMethod(List<? extends Class3> list) {
	Class2 class2 = list.get(0);
}
```
Если потребуется положить данные в коллекцию, то верным будет следующий код:
```java
public static void someMethod(List<? super Class3> list) {
	list.add(new Class4());
}
```
