---
tags:
  - Core
  - Concurrency
---

В параллельном программирование выделяются две основные единицы выполнения: *процессы(process)* и *потоки(threads)*.
Многопоточность в Java - это одновременное выполнение двух или более потоков, где каждый поток работает отдельно от друг друга. 


# Processes // Процессы 

Процесс - это само выполнение программы. Совокупность всех потоков связанных одни приложением. У каждого процесса есть своё собственное пространство памяти.
Однако то, что пользователь видит в одном приложении, это может быть взаимодействие нескольких процессов сразу. Для облегчения взаимодействия между процессами в операционных системах предусмотрено *межпроцессорное взаимодействие (IPC - Inter Process Communication)*, такие как *каналы(pipe)* и *сокеты(sockets)*.


# Threads // Потоки

**Потоки** иногда называют *облечёнными процессами*. И процессы, и потоки образуют среду выполнения, но для потоков нужно меньше ресурсов. Потоки существуют только внутри процессов, а процесс имеет как минимум хотя бы один поток. 


# Объекты потоков

Каждый поток связан с экземпляром(объектом) класса *Thread*.

- Чтобы напрямую управлять созданием потоков и управлять ими создайте объект Thread, каждый раз когда приложение требуется асинхронное выполнение задачи.
- Чтобы абстрагироваться от управления потоками в остальной части вашего приложение, передайте поток *исполнителю(executor)*

# Определение и запуск потока

## 1. Реализация интерфейса *Runnable*:
- Создание класса который реализуют интерфейс *Runnable*.
- В этом классе должен быть реализован метод метод *`.run()`*, который содержит код выполняемы в потоке.
- Затем создаётся объект класса *Thread* в который передаётся объект класса реализующий интерфейс.
- Поток запускается методом *`.start()`* у объекта *`Thread`*.
```java 
public class HelloRunnable implements Runnable {

 public void run() {
 System.out.println("Hello from a thread!");
 }

 public static void main(String args[]) {
 (new Thread(new HelloRunnable())).start();
 }

}
```
#### Преимущества:
- **Гибкость:** класс может наследоваться от другого класса.
- **Отделение логики:** реализация логики потока отделена от самой реализации потока.

## 2. Расширение класса *Thread*:
- Создаётся класс который расширяет класс *`Thread`*.
- В этом классе должен быть переопределён метод *`.run()`*.
- Поток запускается путём вызова метода *`.start()`* у объекта данного класса.
```java
public class HelloThread extends Thread {

 public void run() {
 System.out.println("Hello from a thread!");
 }

 public static void main(String args[]) {
 (new HelloThread()).start();
 }

}
```
Внутри класс *Thread* реализует интерфейс *Runnable*, однако метод *run* ни чего не делает.
#### Преимущества:
- **Возможности класса `Thread`:** Вы можете использовать дополнительные методы класса `Thread`, такие как `.getName()`, `.setName()`, `.getPriority()`, и т.д., без необходимости использовать объект `Thread` отдельно.

## Сравнение и выбор подхода
- **Наследование от `Thread`:** используется, когда нужно расширить функциональность класса `Thread`.
- **Реализация `Runnable`:** предпочтительнее в большинстве случаев, особенно когда класс уже наследуется от другого класса, или когда отделяется логика потока.
